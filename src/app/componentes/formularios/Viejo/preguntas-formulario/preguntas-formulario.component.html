<h1 class="ug-title">Encuesta items</h1>

<div class="container mt-4">
  <form [formGroup]="formulario" class="p-4 border rounded shadow-sm bg-light">
    <h4 class="mb-4">Riesgos y Afectaciones:</h4>

    <div id="preguntasList">
      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD-SPDPECU.OBGL.18</p>

        <p class="">
          Afectación a obligaciones: La destrucción accidental de la información
          (datos personales).
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_1"
            name="resp_1"
            value="si"
            id="resp1Si"
            (change)="abrirModal()"
          />
          <label class="form-check-label" for="resp1Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_1"
            name="resp_1"
            value="no"
            id="resp1No"
          />
          <label class="form-check-label" for="resp1No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="text-primary fw-semibold">RGPD-SPDPECU.OBGL.17</p>
        <p>
          Afectación a obligaciones: La destrucción malintencionada de la
          información (datos personales).
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_2"
            name="resp_2"
            value="si"
            id="resp2Si"
            (change)="abrirModal()"
          />
          <label class="form-check-label" for="resp2Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_2"
            name="resp_2"
            value="no"
            id="resp2No"
          />
          <label class="form-check-label" for="resp2No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD-SPDPECU.OBGL.18</p>

        <p class="">
          Afectación a obligaciones: La pérdida de datos personales.
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_3"
            name="resp_3"
            value="si"
            id="resp3Si"
          />
          <label class="form-check-label" for="resp3Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_3"
            name="resp_3"
            value="no"
            id="resp3No"
          />
          <label class="form-check-label" for="resp3No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD.EDU.SEC.01</p>

        <p class="">
          Afectación a obligaciones: La alteración no autorizada de los datos
          personales.
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_4"
            name="resp_4"
            value="si"
            id="resp4Si"
          />
          <label class="form-check-label" for="resp4Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_4"
            name="resp_4"
            value="no"
            id="resp4No"
          />
          <label class="form-check-label" for="resp4No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD-SPDPECU.OBGL.20</p>

        <p class="">
          Afectación a obligaciones: La comunicación no autorizada de datos
          personales.
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_5"
            name="resp_5"
            value="si"
            id="resp5Si"
          />
          <label class="form-check-label" for="resp5Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_5"
            name="resp_5"
            value="no"
            id="resp5No"
          />
          <label class="form-check-label" for="resp5No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD-SPDPECU.OBGL.21</p>

        <p class="">
          Afectación a obligaciones: El acceso no autorizado a datos personales.
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_6"
            name="resp_6"
            value="si"
            id="resp6Si"
          />
          <label class="form-check-label" for="resp6Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_6"
            name="resp_6"
            value="no"
            id="resp6No"
          />
          <label class="form-check-label" for="resp6No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD-SPDPECU.OBGL.22</p>

        <p class="">
          Afectación a obligaciones: Los sistemas de información no están
          disponibles (contingencia que provoca la no disponibilidad).
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_7"
            name="resp_7"
            value="si"
            id="resp7Si"
          />
          <label class="form-check-label" for="resp7Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_7"
            name="resp_7"
            value="no"
            id="resp7No"
          />
          <label class="form-check-label" for="resp7No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD.EDU.SEC.01</p>

        <p class="">
          Seguridad: Deficiencias que pueden permitir accesos no autorizados a
          datos personales en soporte automatizado...
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_8"
            name="resp_8"
            value="si"
            id="resp8Si"
          />
          <label class="form-check-label" for="resp8Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_8"
            name="resp_8"
            value="no"
            id="resp8No"
          />
          <label class="form-check-label" for="resp8No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD.EDU.SEG.12</p>
        <p class="">
          Seguridad: Pueden materializarse amenazas (fuego, inundaciones) que
          afecten al CPD y, por lo tanto, a los servidores...
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_9"
            name="resp_9"
            value="si"
            id="resp9Si"
          />
          <label class="form-check-label" for="resp9Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_9"
            name="resp_9"
            value="no"
            id="resp9No"
          />
          <label class="form-check-label" for="resp9No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD.EDU.SEG.15</p>

        <p class="">
          Seguridad: Existe el riesgo de acceso indebido a información
          almacenada en soportes externos.
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_10"
            name="resp_10"
            value="si"
            id="resp10Si"
          />
          <label class="form-check-label" for="resp10Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_10"
            name="resp_10"
            value="no"
            id="resp10No"
          />
          <label class="form-check-label" for="resp10No">No</label>
        </div>
      </div>

      <div class="mb-3 ps-2 border-start border-3 border-primary">
        <p class="fw-semibold text-primary">RGPD.EDU.SEG.26</p>

        <p class="">
          Seguridad en Redes y comunicaciones: Cuando el acceso se realiza a
          través de Internet, la comunicación se debe cifrar...
        </p>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_11"
            name="resp_11"
            value="si"
            id="resp11Si"
          />
          <label class="form-check-label" for="resp11Si">Sí</label>
        </div>
        <div class="form-check form-check-inline">
          <input
            class="form-check-input"
            type="radio"
            formControlName="resp_11"
            name="resp_11"
            value="no"
            id="resp11No"
          />
          <label class="form-check-label" for="resp11No">No</label>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-start mt-4 gap-2">
      <button type="reset" class="btn btn-secondary">Limpiar</button>
      <button (click)="continuarCatalogo()" class="btn btn-success">
        Continuar
      </button>
    </div>
  </form>
</div>

@if(modalVisible){
<div class="modal-custom">
  <div class="modal-content-custom">
    <p class="color mb-3 fw-semibold">
      Ingrese el porcentaje de cumplimiento de esta actividad:
    </p>
    <input
      type="number"
      class="form-select mb-3"
      min="0"
      max="100"
      placeholder="Ej. 80"
      [(ngModel)]="porcentajeCumplimiento"
    />
    <div class="text-end">
      <button class="btn btn-primary" (click)="aceptar()">Aceptar</button>
      <button class="btn btn-secondary ms-2" (click)="cerrarModal()">
        Cancelar
      </button>
    </div>
  </div>
</div>
}
